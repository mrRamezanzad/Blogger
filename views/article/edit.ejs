<%- include("../partials/__header--start", {title: "تغییر مقاله"}) %>
<%- include("../partials/__header--end") %>

<!-- Quill Styles -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

<%- include("../partials/__header--end") %>
<!-- FIXME: 2- change navbar active on different pages -->
<%- include("../partials/__navbar", {page: ""}) %> 
<%- include("../partials/__alert", {flash: locals.flash}) %>


<div class="container-fluid">
    <div class="row">
        
        <!-- sidebar navigation -->
        <%- include('../partials/__sidebar', {user: locals.user}) %>

        <div class="col-12 col-md-9 col-lg-8 container text-end">
            <h3>تغییر مقاله</h3>

            <!-- Article Picture -->
            <form id="edit-article" class="form mt-5">
                
                <label for="article-title" class="form-label">موضوع مقاله</label>
                <input id="article-title" class="form-control" type="text" name="title" value="<%= article.title %>">
                
                <input id="article-content" class="form-control d-none" type="textarea" name="content" value="<%= article.content %>">

                <label for="" class="form-label">عکس مقاله را انتخاب کنید</label>
                <input class="form-control" type="file" name="article-picture" id="article-picture" value="C:\\fakepath\<%= article.picture %>">
                
                <!-- Article Editor -->
                <div id="editor">
                    <%- article.content %> 
                </div>
                
                <button id="save-edited-article" class="btn btn-primary mt-3" data-article-id="<%= article._id %> ">ذخیره تغییرات</button>
            </form>
        </div>
    </div>
</div>

<!-- Import Scripts -->
<%- include("../partials/__scripts") %>
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script src="/javascripts/article.js"></script>
<script src="/javascripts/article--edit.js"></script>
<script src="/javascripts/sidebar.js"></script>